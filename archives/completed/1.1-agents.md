# ‚ö†Ô∏è DEPRECATED: Lesson 1.1 - Agent Definitions & Instructions

**Status:** Part of OLD automated system (2024-12-14)
**Deprecated:** 2024-12-16 (Pivot to Interactive Partner)
**See instead:** `phase1-reboot.md` for current approach
**Why kept:** Historical reference - foundational patterns still valid (instruction storage, agent definitions)

---

**Task:** Create `blogger/agents.py` and define Scribr and Linguist agents

**Completed:** Phase 1 (OLD system)

---

## üß† Key Concepts Learned

### Instruction Storage Pattern
Store agent instructions in **separate Markdown files** (e.g., `blogger/instructions/`) rather than inline strings in Python code.

**Benefits:**
- Keeps Python code clean and focused on structure
- Allows prompt iteration without code changes
- Easier to version control and review prompt changes
- Better readability for long instructions

**Implementation:**
```python
def read_instructions(filename: str) -> str:
    current_dir = Path(__file__).parent
    instruction_path = current_dir / "instructions" / filename
    return instruction_path.read_text()

scribr = Agent(
    instruction=read_instructions("scribr.md"),  # Not inline!
)
```

---

### Robust Path Handling
Always construct file paths **relative to the current Python file** using `Path(__file__).parent`.

**Why:** Ensures portability when modules are imported from different locations.

**Example:**
```python
from pathlib import Path

# ‚úÖ Correct - relative to current file
current_dir = Path(__file__).parent
instruction_path = current_dir / "instructions" / "scribr.md"

# ‚ùå Wrong - assumes working directory
instruction_path = Path("instructions/scribr.md")  # Breaks if run from elsewhere
```

---

### Instruction Structure (Markdown)
Use clear Markdown headings (`#`, `##`) to structure agent instructions.

**Recommended hierarchy:**
1. **Persona & Role** (`## Persona & Role`)
2. **Rules & Constraints** (`## Rules`)
3. **Output Format** (`## Output Format`)

**Benefits:**
- Improves LLM comprehension (hierarchical understanding)
- Better human readability
- Easier to find and update specific sections

---

### Persona Priming
Explicitly define the agent's role **at the very beginning** of instructions.

**Pattern:**
```markdown
You are Scribr, a Senior Technical Writer Partner.
```

**Why it works:**
- Primes the LLM's behavior from the start
- Creates consistent personality/tone
- Sets clear boundaries for what the agent should/shouldn't do

---

### Negative Constraints
Clearly state what the agent **must not do** (anti-patterns) to guide behavior away from undesirable outputs.

**Example:**
```markdown
## What You Must NOT Do
- Do not use marketing hype or buzzwords
- Do not make claims without evidence
- Do not write in third person
```

**Why:**
- LLMs need both positive and negative guidance
- Prevents common failure modes
- Makes expectations explicit

---

### Few-Shot Examples
Provide concrete **input-output examples** within instructions.

**Example:**
```markdown
## Output Format

Example:
Input: "AI is revolutionizing the industry!"
Output: "AI tools are changing how developers work."
```

**Why it's effective:**
- Shows exact desired behavior
- Reduces hallucination
- Especially powerful for output formats and style

---

### Model Selection
Choose the appropriate Gemini model based on task complexity.

**Guidelines:**
- **Complex reasoning/writing:** `gemini-3-pro-preview` or `gemini-1.5-pro`
- **Simple tasks/coordination:** `gemini-2.5-flash` (faster, cheaper)
- **Refer to:** [Gemini Models](https://ai.google.dev/gemini-api/docs/models)

---

## üìù Files Created

- `blogger/agents.py` - Agent definitions
- `blogger/instructions/scribr.md` - Scribr's persona and rules
- `blogger/instructions/linguist.md` - Linguist's constraints

---

## üéØ Takeaway

Agent instructions are **prompts, not code**. Invest time in clear structure, examples, and constraints. The quality of your agent instructions directly determines agent behavior quality.
